{"ast":null,"code":"var _jsxFileName = \"/Users/andrewhellquist/Desktop/Cursor/my-bi-editor/frontend/src/pages/LoginPage.js\",\n  _s = $RefreshSig$();\nimport React, { useState } from 'react';\nimport axios from 'axios';\nimport { useNavigate } from 'react-router-dom';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst API_URL = 'http://localhost:4000';\nfunction LoginPage() {\n  _s();\n  console.log('LoginPage rendering');\n  const [email, setEmail] = useState('');\n  const [password, setPassword] = useState('');\n  const [mode, setMode] = useState('login');\n  const [error, setError] = useState('');\n  const navigate = useNavigate();\n  const handleSubmit = async e => {\n    e.preventDefault();\n    setError('');\n    console.log('Attempting to', mode, 'with email:', email);\n    try {\n      const endpoint = mode === 'login' ? '/login' : '/signup';\n      console.log('Making request to:', `${API_URL}/auth${endpoint}`);\n      const {\n        data\n      } = await axios.post(`${API_URL}/auth${endpoint}`, {\n        email,\n        password\n      });\n      console.log('Response:', data);\n      if (data.token) {\n        localStorage.setItem('token', data.token);\n        navigate('/main');\n      }\n    } catch (err) {\n      var _err$response, _err$response$data;\n      console.error('Error:', err);\n      setError(((_err$response = err.response) === null || _err$response === void 0 ? void 0 : (_err$response$data = _err$response.data) === null || _err$response$data === void 0 ? void 0 : _err$response$data.msg) || 'An error occurred');\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      width: 300,\n      margin: '100px auto'\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: mode === 'login' ? 'Login' : 'Signup'\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 7\n    }, this), error && /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        color: 'red',\n        marginBottom: 10\n      },\n      children: error\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 17\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: handleSubmit,\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"email\",\n        value: email,\n        placeholder: \"Email\",\n        onChange: e => setEmail(e.target.value),\n        style: {\n          width: '100%',\n          marginBottom: 10\n        },\n        required: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"password\",\n        value: password,\n        placeholder: \"Password\",\n        onChange: e => setPassword(e.target.value),\n        style: {\n          width: '100%',\n          marginBottom: 10\n        },\n        required: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"submit\",\n        style: {\n          width: '100%',\n          padding: '5px',\n          marginBottom: 10\n        },\n        children: mode === 'login' ? 'Login' : 'Sign Up'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: () => setMode(mode === 'login' ? 'signup' : 'login'),\n      style: {\n        width: '100%',\n        padding: '5px'\n      },\n      children: [\"Switch to \", mode === 'login' ? 'Signup' : 'Login']\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 43,\n    columnNumber: 5\n  }, this);\n}\n_s(LoginPage, \"5ggUQ7AEJ2jaEzKOpge8/unq6Q0=\", false, function () {\n  return [useNavigate];\n});\n_c = LoginPage;\nexport default LoginPage;\nvar _c;\n$RefreshReg$(_c, \"LoginPage\");","map":{"version":3,"names":["React","useState","axios","useNavigate","jsxDEV","_jsxDEV","API_URL","LoginPage","_s","console","log","email","setEmail","password","setPassword","mode","setMode","error","setError","navigate","handleSubmit","e","preventDefault","endpoint","data","post","token","localStorage","setItem","err","_err$response","_err$response$data","response","msg","style","width","margin","children","fileName","_jsxFileName","lineNumber","columnNumber","color","marginBottom","onSubmit","type","value","placeholder","onChange","target","required","padding","onClick","_c","$RefreshReg$"],"sources":["/Users/andrewhellquist/Desktop/Cursor/my-bi-editor/frontend/src/pages/LoginPage.js"],"sourcesContent":["import React, { useState } from 'react';\nimport axios from 'axios';\nimport { useNavigate } from 'react-router-dom';\n\nconst API_URL = 'http://localhost:4000';\n\nfunction LoginPage() {\n  console.log('LoginPage rendering');\n  const [email, setEmail] = useState('');\n  const [password, setPassword] = useState('');\n  const [mode, setMode] = useState('login');\n  const [error, setError] = useState('');\n  const navigate = useNavigate();\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    setError('');\n    \n    console.log('Attempting to', mode, 'with email:', email);\n\n    try {\n      const endpoint = mode === 'login' ? '/login' : '/signup';\n      console.log('Making request to:', `${API_URL}/auth${endpoint}`);\n      \n      const { data } = await axios.post(`${API_URL}/auth${endpoint}`, {\n        email,\n        password\n      });\n\n      console.log('Response:', data);\n\n      if (data.token) {\n        localStorage.setItem('token', data.token);\n        navigate('/main');\n      }\n    } catch (err) {\n      console.error('Error:', err);\n      setError(err.response?.data?.msg || 'An error occurred');\n    }\n  };\n\n  return (\n    <div style={{ width: 300, margin: '100px auto' }}>\n      <h2>{mode === 'login' ? 'Login' : 'Signup'}</h2>\n      {error && <div style={{ color: 'red', marginBottom: 10 }}>{error}</div>}\n      <form onSubmit={handleSubmit}>\n        <input \n          type=\"email\"\n          value={email}\n          placeholder=\"Email\"\n          onChange={e => setEmail(e.target.value)}\n          style={{ width: '100%', marginBottom: 10 }}\n          required\n        />\n        <input\n          type=\"password\"\n          value={password}\n          placeholder=\"Password\"\n          onChange={e => setPassword(e.target.value)}\n          style={{ width: '100%', marginBottom: 10 }}\n          required\n        />\n        <button \n          type=\"submit\"\n          style={{ width: '100%', padding: '5px', marginBottom: 10 }}\n        >\n          {mode === 'login' ? 'Login' : 'Sign Up'}\n        </button>\n      </form>\n      <button \n        onClick={() => setMode(mode === 'login' ? 'signup' : 'login')}\n        style={{ width: '100%', padding: '5px' }}\n      >\n        Switch to {mode === 'login' ? 'Signup' : 'Login'}\n      </button>\n    </div>\n  );\n}\n\nexport default LoginPage;\n"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,QAAQ,QAAQ,OAAO;AACvC,OAAOC,KAAK,MAAM,OAAO;AACzB,SAASC,WAAW,QAAQ,kBAAkB;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAE/C,MAAMC,OAAO,GAAG,uBAAuB;AAEvC,SAASC,SAASA,CAAA,EAAG;EAAAC,EAAA;EACnBC,OAAO,CAACC,GAAG,CAAC,qBAAqB,CAAC;EAClC,MAAM,CAACC,KAAK,EAAEC,QAAQ,CAAC,GAAGX,QAAQ,CAAC,EAAE,CAAC;EACtC,MAAM,CAACY,QAAQ,EAAEC,WAAW,CAAC,GAAGb,QAAQ,CAAC,EAAE,CAAC;EAC5C,MAAM,CAACc,IAAI,EAAEC,OAAO,CAAC,GAAGf,QAAQ,CAAC,OAAO,CAAC;EACzC,MAAM,CAACgB,KAAK,EAAEC,QAAQ,CAAC,GAAGjB,QAAQ,CAAC,EAAE,CAAC;EACtC,MAAMkB,QAAQ,GAAGhB,WAAW,CAAC,CAAC;EAE9B,MAAMiB,YAAY,GAAG,MAAOC,CAAC,IAAK;IAChCA,CAAC,CAACC,cAAc,CAAC,CAAC;IAClBJ,QAAQ,CAAC,EAAE,CAAC;IAEZT,OAAO,CAACC,GAAG,CAAC,eAAe,EAAEK,IAAI,EAAE,aAAa,EAAEJ,KAAK,CAAC;IAExD,IAAI;MACF,MAAMY,QAAQ,GAAGR,IAAI,KAAK,OAAO,GAAG,QAAQ,GAAG,SAAS;MACxDN,OAAO,CAACC,GAAG,CAAC,oBAAoB,EAAE,GAAGJ,OAAO,QAAQiB,QAAQ,EAAE,CAAC;MAE/D,MAAM;QAAEC;MAAK,CAAC,GAAG,MAAMtB,KAAK,CAACuB,IAAI,CAAC,GAAGnB,OAAO,QAAQiB,QAAQ,EAAE,EAAE;QAC9DZ,KAAK;QACLE;MACF,CAAC,CAAC;MAEFJ,OAAO,CAACC,GAAG,CAAC,WAAW,EAAEc,IAAI,CAAC;MAE9B,IAAIA,IAAI,CAACE,KAAK,EAAE;QACdC,YAAY,CAACC,OAAO,CAAC,OAAO,EAAEJ,IAAI,CAACE,KAAK,CAAC;QACzCP,QAAQ,CAAC,OAAO,CAAC;MACnB;IACF,CAAC,CAAC,OAAOU,GAAG,EAAE;MAAA,IAAAC,aAAA,EAAAC,kBAAA;MACZtB,OAAO,CAACQ,KAAK,CAAC,QAAQ,EAAEY,GAAG,CAAC;MAC5BX,QAAQ,CAAC,EAAAY,aAAA,GAAAD,GAAG,CAACG,QAAQ,cAAAF,aAAA,wBAAAC,kBAAA,GAAZD,aAAA,CAAcN,IAAI,cAAAO,kBAAA,uBAAlBA,kBAAA,CAAoBE,GAAG,KAAI,mBAAmB,CAAC;IAC1D;EACF,CAAC;EAED,oBACE5B,OAAA;IAAK6B,KAAK,EAAE;MAAEC,KAAK,EAAE,GAAG;MAAEC,MAAM,EAAE;IAAa,CAAE;IAAAC,QAAA,gBAC/ChC,OAAA;MAAAgC,QAAA,EAAKtB,IAAI,KAAK,OAAO,GAAG,OAAO,GAAG;IAAQ;MAAAuB,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAK,CAAC,EAC/CxB,KAAK,iBAAIZ,OAAA;MAAK6B,KAAK,EAAE;QAAEQ,KAAK,EAAE,KAAK;QAAEC,YAAY,EAAE;MAAG,CAAE;MAAAN,QAAA,EAAEpB;IAAK;MAAAqB,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAM,CAAC,eACvEpC,OAAA;MAAMuC,QAAQ,EAAExB,YAAa;MAAAiB,QAAA,gBAC3BhC,OAAA;QACEwC,IAAI,EAAC,OAAO;QACZC,KAAK,EAAEnC,KAAM;QACboC,WAAW,EAAC,OAAO;QACnBC,QAAQ,EAAE3B,CAAC,IAAIT,QAAQ,CAACS,CAAC,CAAC4B,MAAM,CAACH,KAAK,CAAE;QACxCZ,KAAK,EAAE;UAAEC,KAAK,EAAE,MAAM;UAAEQ,YAAY,EAAE;QAAG,CAAE;QAC3CO,QAAQ;MAAA;QAAAZ,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACT,CAAC,eACFpC,OAAA;QACEwC,IAAI,EAAC,UAAU;QACfC,KAAK,EAAEjC,QAAS;QAChBkC,WAAW,EAAC,UAAU;QACtBC,QAAQ,EAAE3B,CAAC,IAAIP,WAAW,CAACO,CAAC,CAAC4B,MAAM,CAACH,KAAK,CAAE;QAC3CZ,KAAK,EAAE;UAAEC,KAAK,EAAE,MAAM;UAAEQ,YAAY,EAAE;QAAG,CAAE;QAC3CO,QAAQ;MAAA;QAAAZ,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACT,CAAC,eACFpC,OAAA;QACEwC,IAAI,EAAC,QAAQ;QACbX,KAAK,EAAE;UAAEC,KAAK,EAAE,MAAM;UAAEgB,OAAO,EAAE,KAAK;UAAER,YAAY,EAAE;QAAG,CAAE;QAAAN,QAAA,EAE1DtB,IAAI,KAAK,OAAO,GAAG,OAAO,GAAG;MAAS;QAAAuB,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACjC,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACL,CAAC,eACPpC,OAAA;MACE+C,OAAO,EAAEA,CAAA,KAAMpC,OAAO,CAACD,IAAI,KAAK,OAAO,GAAG,QAAQ,GAAG,OAAO,CAAE;MAC9DmB,KAAK,EAAE;QAAEC,KAAK,EAAE,MAAM;QAAEgB,OAAO,EAAE;MAAM,CAAE;MAAAd,QAAA,GAC1C,YACW,EAACtB,IAAI,KAAK,OAAO,GAAG,QAAQ,GAAG,OAAO;IAAA;MAAAuB,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAC1C,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACN,CAAC;AAEV;AAACjC,EAAA,CAvEQD,SAAS;EAAA,QAMCJ,WAAW;AAAA;AAAAkD,EAAA,GANrB9C,SAAS;AAyElB,eAAeA,SAAS;AAAC,IAAA8C,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}